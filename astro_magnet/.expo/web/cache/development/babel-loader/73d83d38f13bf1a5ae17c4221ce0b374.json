{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport FastImage from \"react-native-fast-image\";\nimport { useState } from \"react\";\nimport { Box, Skeleton } from \"native-base\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Image(props) {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  function onError() {\n    props.onLoadError && props.onLoadError(\"Error loading image, retrying...\");\n  }\n  return _jsxs(Box, {\n    bg: \"tertiary\",\n    width: \"100%\",\n    height: \"100%\",\n    position: \"relative\",\n    style: props.style,\n    overflow: \"hidden\",\n    children: [loading && _jsx(Skeleton, {\n      startColor: \"tertiary\",\n      endColor: \"secondary\",\n      height: \"100%\",\n      width: \"100%\",\n      position: \"absolute\",\n      zIndex: 100\n    }), _jsx(FastImage, _objectSpread({\n      style: props.style,\n      source: {\n        uri: props.src\n      },\n      onError: onError,\n      onLoadStart: function onLoadStart() {\n        return setLoading(true);\n      },\n      onLoad: function onLoad() {\n        return setLoading(false);\n      }\n    }, props))]\n  });\n}\n_NativeWindStyleSheet.create({\n  styles: {\n    \"absolute\": {\n      \"position\": \"absolute\"\n    },\n    \"relative\": {\n      \"position\": \"relative\"\n    },\n    \"hidden\": {\n      \"display\": \"none\"\n    }\n  }\n});","map":{"version":3,"names":["FastImage","useState","Box","Skeleton","Image","props","loading","setLoading","onError","onLoadError","style","uri","src"],"sources":["/Users/sonminhnguyen/Documents/programming/react-native/school/astro_magnet_initial/astro_magnet/src/frontend/components/global/image.tsx"],"sourcesContent":["import FastImage from \"react-native-fast-image\";\nimport type { FastImageProps } from \"react-native-fast-image\";\nimport {useState} from \"react\";\nimport {Box, Skeleton} from \"native-base\";\n\ninterface Props extends FastImageProps {\n    src?: string;\n    onLoadError?: (error: string) => void;\n}\n\n/**\n * image component that support loading and error handling, using FastImage as base\n * @prop {string} image source\n * @prop {(error: string)} callback function when image failed to load\n * @prop {FastImageProps} - component also supports all FastImage props to override default config\n * @return {JSX.Element} image component\n */\nexport default function Image(props: Props) {\n    const [loading, setLoading] = useState<boolean>(true);\n\n    function onError() {\n        props.onLoadError && props.onLoadError(\"Error loading image, retrying...\")\n    }\n\n    return (\n        <Box\n            bg=\"tertiary\"\n            width=\"100%\"\n            height=\"100%\"\n            position=\"relative\"\n            style={props.style}\n            overflow=\"hidden\"\n        >\n            {\n                loading &&\n                <Skeleton\n                    startColor=\"tertiary\"\n                    endColor=\"secondary\"\n                    height=\"100%\"\n                    width=\"100%\"\n                    position=\"absolute\"\n                    zIndex={100}\n                />\n            }\n            <FastImage\n                style={props.style}\n                source={{uri: props.src}}\n                onError={onError}\n                onLoadStart={() => setLoading(true)}\n                onLoad={() => setLoading(false)}\n                {...props}\n            />\n        </Box>\n    )\n}\n\n"],"mappings":";;;;;AAAA,OAAOA,SAAS,MAAM,yBAAyB;AAE/C,SAAQC,QAAQ,QAAO,OAAO;AAC9B,SAAQC,GAAG,EAAEC,QAAQ,QAAO,aAAa;AAAC;AAAA;AAc1C,eAAe,SAASC,KAAK,CAACC,KAAY,EAAE;EACxC,gBAA8BJ,QAAQ,CAAU,IAAI,CAAC;IAAA;IAA9CK,OAAO;IAAEC,UAAU;EAE1B,SAASC,OAAO,GAAG;IACfH,KAAK,CAACI,WAAW,IAAIJ,KAAK,CAACI,WAAW,CAAC,kCAAkC,CAAC;EAC9E;EAEA,OACI,MAAC,GAAG;IACA,EAAE,EAAC,UAAU;IACb,KAAK,EAAC,MAAM;IACZ,MAAM,EAAC,MAAM;IACb,QAAQ,EAAC,UAAU;IACnB,KAAK,EAAEJ,KAAK,CAACK,KAAM;IACnB,QAAQ,EAAC,QAAQ;IAAA,WAGbJ,OAAO,IACP,KAAC,QAAQ;MACL,UAAU,EAAC,UAAU;MACrB,QAAQ,EAAC,WAAW;MACpB,MAAM,EAAC,MAAM;MACb,KAAK,EAAC,MAAM;MACZ,QAAQ,EAAC,UAAU;MACnB,MAAM,EAAE;IAAI,EACd,EAEN,KAAC,SAAS;MACN,KAAK,EAAED,KAAK,CAACK,KAAM;MACnB,MAAM,EAAE;QAACC,GAAG,EAAEN,KAAK,CAACO;MAAG,CAAE;MACzB,OAAO,EAAEJ,OAAQ;MACjB,WAAW,EAAE;QAAA,OAAMD,UAAU,CAAC,IAAI,CAAC;MAAA,CAAC;MACpC,MAAM,EAAE;QAAA,OAAMA,UAAU,CAAC,KAAK,CAAC;MAAA;IAAC,GAC5BF,KAAK,EACX;EAAA,EACA;AAEd;AAAC;EAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module"}