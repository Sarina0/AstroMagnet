{"ast":null,"code":"import{NativeWindStyleSheet as _NativeWindStyleSheet}from\"nativewind\";import{Box,Text}from\"native-base\";import{useContext}from\"react\";import{UserContext}from\"../../../context/user\";import{formatChatTime}from\"../../../shared/actions/time\";import Image from\"../global/image\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dialog(props){var _useContext=useContext(UserContext),profile=_useContext.profile;if(!profile){return null;}var content=props.content,sendBy=props.sendBy,createdAt=props.createdAt;var isCurrentUser=sendBy.id===profile.id;return _jsxs(Box,{flexDirection:isCurrentUser?\"row-reverse\":\"row\",alignItems:\"center\",children:[_jsx(Box,{width:50,height:50,rounded:\"full\",overflow:\"hidden\",mr:isCurrentUser?2:3,ml:isCurrentUser?3:2,alignSelf:\"flex-start\",children:_jsx(Image,{src:sendBy.profilePicture,style:{width:\"100%\",height:\"100%\"},resizeMode:\"cover\"})}),_jsxs(Box,{bgColor:isCurrentUser?\"primary\":\"secondary\",borderBottomRightRadius:isCurrentUser?0:10,borderBottomLeftRadius:isCurrentUser?10:0,borderTopRightRadius:10,borderTopLeftRadius:10,paddingX:3,paddingY:1,mb:7,flexDirection:\"column\",alignSelf:isCurrentUser?\"flex-end\":\"flex-start\",maxWidth:\"60%\",children:[_jsx(Text,{color:\"white\",fontSize:\"sm\",children:formatChatTime(createdAt.toDate())}),_jsx(Text,{color:\"onSecondary\",fontSize:\"md\",children:content})]})]});}_NativeWindStyleSheet.create({styles:{\"hidden\":{\"display\":\"none\"},\"rounded\":{\"borderTopLeftRadius\":4,\"borderTopRightRadius\":4,\"borderBottomRightRadius\":4,\"borderBottomLeftRadius\":4}}});","map":{"version":3,"names":["Box","Text","useContext","UserContext","formatChatTime","Image","Dialog","props","profile","content","sendBy","createdAt","isCurrentUser","id","profilePicture","width","height","toDate"],"sources":["/Users/sonminhnguyen/Documents/programming/react-native/school/astro_magnet_initial/astro_magnet/src/frontend/components/chat/dialog.tsx"],"sourcesContent":["import {Box, Text} from \"native-base\";\nimport type { Message } from \"@app/shared/interfaces/message\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"@app/context/user\";\nimport { formatChatTime } from \"@app/shared/actions/time\";\nimport Image from \"../global/image\";\n\n/**\n * Chat box component\n * @props {Message} pass in the message as props\n * @returns {JSX.Element} returns the chat box component\n */\nexport default function Dialog(props: Message) {\n    const { profile } = useContext(UserContext);\n    if (!profile) {\n        return null;\n    }\n    const {content, sendBy, createdAt} = props;\n    const isCurrentUser = sendBy.id === profile.id;\n    return (\n        <Box\n            flexDirection={isCurrentUser ? \"row-reverse\" : \"row\"}\n            alignItems={\"center\"}\n        >\n            <Box \n                width={50}\n                height={50}\n                rounded=\"full\"\n                overflow=\"hidden\"\n                mr={isCurrentUser ? 2 : 3}\n                ml={isCurrentUser ? 3 : 2}\n                alignSelf={\"flex-start\"}\n            >\n                <Image\n                    src={sendBy.profilePicture}\n                    style={{\n                        width: \"100%\",\n                        height: \"100%\",\n                    }}\n                    resizeMode=\"cover\"\n                />\n            </Box>\n            <Box\n                bgColor={isCurrentUser ? \"primary\" : \"secondary\"}\n                borderBottomRightRadius={isCurrentUser ? 0 : 10}\n                borderBottomLeftRadius={isCurrentUser ? 10 : 0}\n                borderTopRightRadius={10}\n                borderTopLeftRadius={10}\n                paddingX={3}\n                paddingY={1}\n                mb={7}\n                flexDirection=\"column\"\n                alignSelf={isCurrentUser ? \"flex-end\" : \"flex-start\"}\n                maxWidth=\"60%\"\n            >\n                <Text color=\"white\" fontSize=\"sm\">\n                    {formatChatTime(createdAt.toDate())}\n                </Text>\n                <Text\n                    color=\"onSecondary\"\n                    fontSize=\"md\"\n                >\n                    {content}\n                </Text>\n            </Box>\n        </Box>\n    )\n}"],"mappings":"sEAAA,OAAQA,GAAG,CAAEC,IAAI,KAAO,aAAa,CAErC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,6BACpB,OAASC,cAAc,oCACvB,MAAOC,MAAK,uBAAwB,wFAOpC,cAAe,SAASC,OAAM,CAACC,KAAc,CAAE,CAC3C,gBAAoBL,UAAU,CAACC,WAAW,CAAC,CAAnCK,OAAO,aAAPA,OAAO,CACf,GAAI,CAACA,OAAO,CAAE,CACV,MAAO,KAAI,CACf,CACA,GAAOC,QAAO,CAAuBF,KAAK,CAAnCE,OAAO,CAAEC,MAAM,CAAeH,KAAK,CAA1BG,MAAM,CAAEC,SAAS,CAAIJ,KAAK,CAAlBI,SAAS,CACjC,GAAMC,cAAa,CAAGF,MAAM,CAACG,EAAE,GAAKL,OAAO,CAACK,EAAE,CAC9C,MACI,OAAC,GAAG,EACA,aAAa,CAAED,aAAa,CAAG,aAAa,CAAG,KAAM,CACrD,UAAU,CAAE,QAAS,WAErB,KAAC,GAAG,EACA,KAAK,CAAE,EAAG,CACV,MAAM,CAAE,EAAG,CACX,OAAO,CAAC,MAAM,CACd,QAAQ,CAAC,QAAQ,CACjB,EAAE,CAAEA,aAAa,CAAG,CAAC,CAAG,CAAE,CAC1B,EAAE,CAAEA,aAAa,CAAG,CAAC,CAAG,CAAE,CAC1B,SAAS,CAAE,YAAa,UAExB,KAAC,KAAK,EACF,GAAG,CAAEF,MAAM,CAACI,cAAe,CAC3B,KAAK,CAAE,CACHC,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MACZ,CAAE,CACF,UAAU,CAAC,OAAO,EACpB,EACA,CACN,MAAC,GAAG,EACA,OAAO,CAAEJ,aAAa,CAAG,SAAS,CAAG,WAAY,CACjD,uBAAuB,CAAEA,aAAa,CAAG,CAAC,CAAG,EAAG,CAChD,sBAAsB,CAAEA,aAAa,CAAG,EAAE,CAAG,CAAE,CAC/C,oBAAoB,CAAE,EAAG,CACzB,mBAAmB,CAAE,EAAG,CACxB,QAAQ,CAAE,CAAE,CACZ,QAAQ,CAAE,CAAE,CACZ,EAAE,CAAE,CAAE,CACN,aAAa,CAAC,QAAQ,CACtB,SAAS,CAAEA,aAAa,CAAG,UAAU,CAAG,YAAa,CACrD,QAAQ,CAAC,KAAK,WAEd,KAAC,IAAI,EAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,UAC5BR,cAAc,CAACO,SAAS,CAACM,MAAM,EAAE,CAAC,EAChC,CACP,KAAC,IAAI,EACD,KAAK,CAAC,aAAa,CACnB,QAAQ,CAAC,IAAI,UAEZR,OAAO,EACL,GACL,GACJ,CAEd,CAAC"},"metadata":{},"sourceType":"module"}