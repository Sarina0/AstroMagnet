{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NativeWindStyleSheet as _NativeWindStyleSheet}from\"nativewind\";import{StyledComponent as _StyledComponent}from\"nativewind\";import{Text,Box}from\"native-base\";import DatePicker from\"react-native-date-picker\";import{useState}from\"react\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TimeText=function TimeText(props){return _jsx(Text,{color:\"onSecondary\",fontSize:18,fontWeight:\"bold\",onPress:props.openPicker,children:props.time});};var PlaceholderText=function PlaceholderText(props){return _jsx(Text,{color:\"indigo.900\",fontSize:18,fontWeight:\"bold\",onPress:props.openPicker,children:props.text});};export default function DatePickerComponent(props){var _props$value,_props$value2;var _useState=useState({showDatePicker:false,showTimePicker:false}),_useState2=_slicedToArray(_useState,2),_useState2$=_useState2[0],showDatePicker=_useState2$.showDatePicker,showTimePicker=_useState2$.showTimePicker,toggleShow=_useState2[1];function getDMYTexts(){var texts=moment(props.value).format(\"DD/MMM/YYYY\").split(\"/\").map(function(text,index){return _jsx(TimeText,{time:text,openPicker:toggleDatePicker},index);});return texts;}function toggleDatePicker(){toggleShow({showDatePicker:!showDatePicker,showTimePicker:false});}function toggleTimePicker(){toggleShow({showDatePicker:false,showTimePicker:!showTimePicker});}function comfirmDateTime(newDate){toggleShow({showDatePicker:false,showTimePicker:false});props.onChange(newDate);}return _jsxs(Box,{my:2,style:props.style,children:[props.label&&_jsx(Text,{fontSize:20,color:\"onSecondary\",fontWeight:\"bold\",mb:2,children:props.label}),_jsxs(_StyledComponent,{className:\"rounded-lg bg-secondary flex-row\\n                    p-2 items-center justify-between\",component:Box,children:[_jsx(Box,{flex:1,flexDirection:\"row\",justifyContent:\"space-between\",paddingX:5,alignItems:\"center\",children:props.value?getDMYTexts():_jsx(PlaceholderText,{text:\"Select Date\",openPicker:toggleDatePicker})}),_jsx(Box,{flex:0.75,flexDirection:\"row\",justifyContent:\"flex-end\",pr:5,children:props.value?_jsx(TimeText,{time:moment(props.value).format(\"HH:mm\"),openPicker:toggleTimePicker}):_jsx(PlaceholderText,{text:\"Select Time\",openPicker:toggleTimePicker})})]}),_jsx(DatePicker,{modal:true,date:(_props$value=props.value)!=null?_props$value:new Date(),open:showDatePicker,onConfirm:comfirmDateTime,onCancel:toggleDatePicker,mode:\"date\"}),_jsx(DatePicker,{modal:true,date:(_props$value2=props.value)!=null?_props$value2:new Date(),open:showTimePicker,onConfirm:comfirmDateTime,onCancel:toggleTimePicker,mode:\"time\",is24hourSource:\"locale\"})]});};_NativeWindStyleSheet.create({styles:{\"container\":{\"width\":\"100%\"},\"container@0\":{\"maxWidth\":640},\"container@1\":{\"maxWidth\":768},\"container@2\":{\"maxWidth\":1024},\"container@3\":{\"maxWidth\":1280},\"container@4\":{\"maxWidth\":1536},\"flex\":{\"display\":\"flex\"},\"flex-row\":{\"flexDirection\":\"row\"},\"items-center\":{\"alignItems\":\"center\"},\"justify-between\":{\"justifyContent\":\"space-between\"},\"rounded-lg\":{\"borderTopLeftRadius\":8,\"borderTopRightRadius\":8,\"borderBottomRightRadius\":8,\"borderBottomLeftRadius\":8},\"bg-secondary\":{\"backgroundColor\":\"#63458A\"},\"p-2\":{\"paddingTop\":8,\"paddingRight\":8,\"paddingBottom\":8,\"paddingLeft\":8}},atRules:{\"container\":[[[\"media\",\"(min-width: 640px)\"]],[[\"media\",\"(min-width: 768px)\"]],[[\"media\",\"(min-width: 1024px)\"]],[[\"media\",\"(min-width: 1280px)\"]],[[\"media\",\"(min-width: 1536px)\"]]]},topics:{\"container\":[\"width\"]}});","map":{"version":3,"names":["Text","Box","DatePicker","useState","moment","TimeText","props","openPicker","time","PlaceholderText","text","DatePickerComponent","showDatePicker","showTimePicker","toggleShow","getDMYTexts","texts","value","format","split","map","index","toggleDatePicker","toggleTimePicker","comfirmDateTime","newDate","onChange","style","label","Date"],"sources":["/Users/sonminhnguyen/Documents/programming/react-native/school/astro_magnet_initial/astro_magnet/src/frontend/components/global/datepicker.tsx"],"sourcesContent":["import {Text, Box, Pressable} from \"native-base\";\nimport { ViewStyle } from \"react-native\";\nimport DatePicker from \"react-native-date-picker\";\nimport {ReactNode, useState} from \"react\";\nimport moment from \"moment\";\n\ninterface Props {\n    label?: string,\n    value: Date | null | undefined,\n    onChange: (value: Date) => void,\n    style?: ViewStyle\n}\n\n/**\n * text to display time that is selected\n * @prop {string} time - time to display\n * @prop {() => void} openPicker - function to open the accompanying date/time picker\n * @returns {ReactNode} - time text component\n */\nconst TimeText = (props: {\n    time: string, \n    openPicker?: ()=>void\n}) => {\n    return (\n        <Text\n            color=\"onSecondary\"\n            fontSize={18}\n            fontWeight=\"bold\"\n            onPress={props.openPicker}\n        >\n            {props.time}\n        </Text>\n    )\n}\n\n/**\n * placeholder text for when no datetime is selected\n * @prop {string} text - placholder text to display\n * @prop {() => void} openPicker - function to open the accompanying date/time picker\n * @returns {ReactNode} - placholder text component\n */\nconst PlaceholderText = (props: {\n    text: string\n    openPicker: ()=>void\n}) => {\n    return (\n        <Text\n            color=\"indigo.900\"\n            fontSize={18}\n            fontWeight=\"bold\"\n            onPress={props.openPicker}\n        >\n            {props.text}\n        </Text>\n    )\n}\n\n/**\n * Date and time picker component\n * @prop {string | undefined} label - label of the date/time picker\n * @prop {Date | null | undefined} value - value of the date/time picker\n * @prop {(value: Date) => void} onChange - function to call when the value changes\n * @prop {ViewStyle | undefined} style - extra style for the date/time picker container\n * @returns {ReactNode} - date/time picker component\n */\nexport default function DatePickerComponent(props: Props) {\n\n    //open and close state of pickers\n    const [{\n        showDatePicker,\n        showTimePicker,\n    }, toggleShow] = useState({\n        showDatePicker: false,\n        showTimePicker: false,\n    });\n\n    /**\n     * get list of Text components that display selected day, month, year\n     * @returns {ReactNode[]} list of Text components\n     */\n    function getDMYTexts(): ReactNode {\n        const texts = moment(props.value)\n        .format(\"DD/MMM/YYYY\")\n        .split(\"/\")\n        .map((text, index) => {\n            return (\n                <TimeText\n                    key={index}\n                    time={text}\n                    openPicker={toggleDatePicker}\n                />\n            )\n        })\n\n        return texts;\n    }\n    \n    /**\n     * toggle date picker\n     */\n    function toggleDatePicker(): void {\n\n        //close time picker and toggle date picker\n        toggleShow({\n            showDatePicker: !showDatePicker,\n            showTimePicker: false,\n        });\n    }\n\n    /**\n     * toggle time picker\n     */\n    function toggleTimePicker(): void {\n\n        //close date picker and toggle time picker\n        toggleShow({\n            showDatePicker: false,\n            showTimePicker: !showTimePicker,\n        });\n    }\n\n    /**\n     * confirm selected date\n     * @param {Date} newDate new selected date\n     */\n    function comfirmDateTime(newDate: Date): void {\n\n        //close pickers\n        toggleShow({\n            showDatePicker: false,\n            showTimePicker: false,\n        });\n\n        //set new date\n        props.onChange(newDate);\n    }\n\n    return (\n        <Box\n            my={2}\n            style={props.style}\n        >\n            { props.label && \n                <Text\n                    fontSize={20}\n                    color=\"onSecondary\"\n                    fontWeight=\"bold\"\n                    mb={2}\n                >\n                    {props.label}\n                </Text>\n            }\n            <Box\n                className={\n                    `rounded-lg bg-secondary flex-row\n                    p-2 items-center justify-between`\n                }\n            >\n                <Box\n                    flex={1}\n                    flexDirection=\"row\"\n                    justifyContent=\"space-between\"\n                    paddingX={5}\n                    alignItems=\"center\"\n                >\n                    { props.value? getDMYTexts() :\n                        <PlaceholderText \n                            text=\"Select Date\" \n                            openPicker={toggleDatePicker}\n                        />\n                    }\n                </Box>\n                <Box \n                    flex={0.75}\n                    flexDirection=\"row\"\n                    justifyContent=\"flex-end\"\n                    pr={5}\n                >\n                    { props.value?\n                        <TimeText\n                            time={moment(props.value).format(\"HH:mm\")}\n                            openPicker={toggleTimePicker}\n                        />:\n                        <PlaceholderText \n                            text=\"Select Time\"\n                            openPicker={toggleTimePicker}\n                        />\n                    }\n                </Box>        \n            </Box>\n            <DatePicker\n                modal\n                date={props.value ?? new Date()}\n                open={showDatePicker}\n                onConfirm={comfirmDateTime}\n                onCancel={toggleDatePicker}\n                mode=\"date\"\n            />\n            <DatePicker\n                modal\n                date={props.value ?? new Date()}\n                open={showTimePicker}\n                onConfirm={comfirmDateTime}\n                onCancel={toggleTimePicker}\n                mode=\"time\"\n                is24hourSource=\"locale\"\n            />\n        </Box>\n    );\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}