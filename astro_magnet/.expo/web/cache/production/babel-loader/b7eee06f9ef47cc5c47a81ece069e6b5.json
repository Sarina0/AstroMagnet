{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import NativeEventEmitter from\"react-native-web/dist/exports/NativeEventEmitter\";import NativeModules from\"react-native-web/dist/exports/NativeModules\";var RNFBAppModule=NativeModules.RNFBAppModule;var RNFBNativeEventEmitter=function(_NativeEventEmitter){_inherits(RNFBNativeEventEmitter,_NativeEventEmitter);var _super=_createSuper(RNFBNativeEventEmitter);function RNFBNativeEventEmitter(){var _this;_classCallCheck(this,RNFBNativeEventEmitter);_this=_super.call(this,RNFBAppModule);_this.ready=false;return _this;}_createClass(RNFBNativeEventEmitter,[{key:\"addListener\",value:function addListener(eventType,listener,context){var _this2=this;if(!this.ready){RNFBAppModule.eventsNotifyReady(true);this.ready=true;}RNFBAppModule.eventsAddListener(eventType);var subscription=_get(_getPrototypeOf(RNFBNativeEventEmitter.prototype),\"addListener\",this).call(this,\"rnfb_\"+eventType,listener,context);subscription.eventType=\"rnfb_\"+eventType;var originalRemove=subscription.remove;var newRemove=function newRemove(){RNFBAppModule.eventsRemoveListener(eventType,false);if(_get(_getPrototypeOf(RNFBNativeEventEmitter.prototype),\"removeSubscription\",_this2)!=null){_get(_getPrototypeOf(RNFBNativeEventEmitter.prototype),\"removeSubscription\",_this2).call(_this2,subscription);}else if(originalRemove!=null){originalRemove();}};subscription.remove=newRemove;return subscription;}},{key:\"removeAllListeners\",value:function removeAllListeners(eventType){RNFBAppModule.eventsRemoveListener(eventType,true);_get(_getPrototypeOf(RNFBNativeEventEmitter.prototype),\"removeAllListeners\",this).call(this,\"rnfb_\"+eventType);}},{key:\"removeSubscription\",value:function removeSubscription(subscription){RNFBAppModule.eventsRemoveListener(subscription.eventType.replace('rnfb_'),false);if(_get(_getPrototypeOf(RNFBNativeEventEmitter.prototype),\"removeSubscription\",this)){_get(_getPrototypeOf(RNFBNativeEventEmitter.prototype),\"removeSubscription\",this).call(this,subscription);}}}]);return RNFBNativeEventEmitter;}(NativeEventEmitter);export default new RNFBNativeEventEmitter();","map":{"version":3,"names":["RNFBAppModule","NativeModules","RNFBNativeEventEmitter","ready","eventType","listener","context","eventsNotifyReady","eventsAddListener","subscription","originalRemove","remove","newRemove","eventsRemoveListener","replace","NativeEventEmitter"],"sources":["/Users/sonminhnguyen/Documents/programming/react-native/school/astro_magnet_initial/astro_magnet/node_modules/@react-native-firebase/app/lib/internal/RNFBNativeEventEmitter.js"],"sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { NativeEventEmitter, NativeModules } from 'react-native';\n\nconst { RNFBAppModule } = NativeModules;\n\nclass RNFBNativeEventEmitter extends NativeEventEmitter {\n  constructor() {\n    super(RNFBAppModule);\n    this.ready = false;\n  }\n\n  addListener(eventType, listener, context) {\n    if (!this.ready) {\n      RNFBAppModule.eventsNotifyReady(true);\n      this.ready = true;\n    }\n    RNFBAppModule.eventsAddListener(eventType);\n\n    let subscription = super.addListener(`rnfb_${eventType}`, listener, context);\n\n    // React Native 0.65+ altered EventEmitter:\n    // - removeSubscription is gone\n    // - addListener returns an unsubscriber instead of a more complex object with eventType etc\n\n    // make sure eventType for backwards compatibility just in case\n    subscription.eventType = `rnfb_${eventType}`;\n\n    // New style is to return a remove function on the object, just in csae people call that,\n    // we will modify it to do our native unsubscription then call the original\n    let originalRemove = subscription.remove;\n    let newRemove = () => {\n      RNFBAppModule.eventsRemoveListener(eventType, false);\n      if (super.removeSubscription != null) {\n        // This is for RN <= 0.64 - 65 and greater no longer have removeSubscription\n        super.removeSubscription(subscription);\n      } else if (originalRemove != null) {\n        // This is for RN >= 0.65\n        originalRemove();\n      }\n    };\n    subscription.remove = newRemove;\n    return subscription;\n  }\n\n  removeAllListeners(eventType) {\n    RNFBAppModule.eventsRemoveListener(eventType, true);\n    super.removeAllListeners(`rnfb_${eventType}`);\n  }\n\n  // This is likely no longer ever called, but it is here for backwards compatibility with RN <= 0.64\n  removeSubscription(subscription) {\n    RNFBAppModule.eventsRemoveListener(subscription.eventType.replace('rnfb_'), false);\n    if (super.removeSubscription) {\n      super.removeSubscription(subscription);\n    }\n  }\n}\n\nexport default new RNFBNativeEventEmitter();\n"],"mappings":"0sCAmBA,GAAQA,cAAa,CAAKC,aAAa,CAA/BD,aAAa,CAAmB,GAElCE,uBAAsB,qIAC1B,iCAAc,wDACZ,uBAAMF,aAAa,EACnB,MAAKG,KAAK,CAAG,KAAK,CAAC,aACrB,CAAC,8DAED,qBAAYC,SAAS,CAAEC,QAAQ,CAAEC,OAAO,CAAE,iBACxC,GAAI,CAAC,IAAI,CAACH,KAAK,CAAE,CACfH,aAAa,CAACO,iBAAiB,CAAC,IAAI,CAAC,CACrC,IAAI,CAACJ,KAAK,CAAG,IAAI,CACnB,CACAH,aAAa,CAACQ,iBAAiB,CAACJ,SAAS,CAAC,CAE1C,GAAIK,aAAY,8FAA6BL,SAAS,CAAIC,QAAQ,CAAEC,OAAO,CAAC,CAO5EG,YAAY,CAACL,SAAS,SAAWA,SAAW,CAI5C,GAAIM,eAAc,CAAGD,YAAY,CAACE,MAAM,CACxC,GAAIC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpBZ,aAAa,CAACa,oBAAoB,CAACT,SAAS,CAAE,KAAK,CAAC,CACpD,GAAI,qFAA4B,IAAI,CAAE,CAEpC,gGAAyBK,YAAY,EACvC,CAAC,IAAM,IAAIC,cAAc,EAAI,IAAI,CAAE,CAEjCA,cAAc,EAAE,CAClB,CACF,CAAC,CACDD,YAAY,CAACE,MAAM,CAAGC,SAAS,CAC/B,MAAOH,aAAY,CACrB,CAAC,kCAED,4BAAmBL,SAAS,CAAE,CAC5BJ,aAAa,CAACa,oBAAoB,CAACT,SAAS,CAAE,IAAI,CAAC,CACnD,oGAAiCA,SAAS,EAC5C,CAAC,kCAGD,4BAAmBK,YAAY,CAAE,CAC/BT,aAAa,CAACa,oBAAoB,CAACJ,YAAY,CAACL,SAAS,CAACU,OAAO,CAAC,OAAO,CAAC,CAAE,KAAK,CAAC,CAClF,qFAA8B,CAC5B,4FAAyBL,YAAY,EACvC,CACF,CAAC,oCAlDkCM,kBAAkB,EAqDvD,cAAe,IAAIb,uBAAsB,EAAE"},"metadata":{},"sourceType":"module"}