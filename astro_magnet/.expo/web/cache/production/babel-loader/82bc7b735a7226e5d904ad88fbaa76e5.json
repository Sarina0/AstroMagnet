{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import{generateFirestoreId,isObject}from'@react-native-firebase/app/lib/common';import FirestoreDocumentReference,{provideCollectionReferenceClass}from\"./FirestoreDocumentReference\";import FirestoreQuery from\"./FirestoreQuery\";import FirestoreQueryModifiers from\"./FirestoreQueryModifiers\";var FirestoreCollectionReference=function(_FirestoreQuery){_inherits(FirestoreCollectionReference,_FirestoreQuery);var _super=_createSuper(FirestoreCollectionReference);function FirestoreCollectionReference(firestore,collectionPath){_classCallCheck(this,FirestoreCollectionReference);return _super.call(this,firestore,collectionPath,new FirestoreQueryModifiers());}_createClass(FirestoreCollectionReference,[{key:\"id\",get:function get(){return this._collectionPath.id;}},{key:\"parent\",get:function get(){var parent=this._collectionPath.parent();if(!parent){return null;}return new FirestoreDocumentReference(this._firestore,parent);}},{key:\"path\",get:function get(){return this._collectionPath.relativeName;}},{key:\"add\",value:function add(data){if(!isObject(data)){throw new Error(\"firebase.firestore().collection().add(*) 'data' must be an object.\");}var documentRef=this.doc();return documentRef.set(data).then(function(){return Promise.resolve(documentRef);});}},{key:\"doc\",value:function doc(documentPath){var newPath=documentPath||generateFirestoreId();var path=this._collectionPath.child(newPath);if(!path.isDocument){throw new Error(\"firebase.firestore().collection().doc(*) 'documentPath' must point to a document.\");}return new FirestoreDocumentReference(this._firestore,path);}}]);return FirestoreCollectionReference;}(FirestoreQuery);export{FirestoreCollectionReference as default};provideCollectionReferenceClass(FirestoreCollectionReference);","map":{"version":3,"names":["generateFirestoreId","isObject","FirestoreDocumentReference","provideCollectionReferenceClass","FirestoreQuery","FirestoreQueryModifiers","FirestoreCollectionReference","firestore","collectionPath","_collectionPath","id","parent","_firestore","relativeName","data","Error","documentRef","doc","set","then","Promise","resolve","documentPath","newPath","path","child","isDocument"],"sources":["/Users/sonminhnguyen/Documents/programming/react-native/school/astro_magnet_initial/astro_magnet/node_modules/@react-native-firebase/firestore/lib/FirestoreCollectionReference.js"],"sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { generateFirestoreId, isObject } from '@react-native-firebase/app/lib/common';\nimport FirestoreDocumentReference, {\n  provideCollectionReferenceClass,\n} from './FirestoreDocumentReference';\nimport FirestoreQuery from './FirestoreQuery';\nimport FirestoreQueryModifiers from './FirestoreQueryModifiers';\n\nexport default class FirestoreCollectionReference extends FirestoreQuery {\n  constructor(firestore, collectionPath) {\n    super(firestore, collectionPath, new FirestoreQueryModifiers());\n  }\n\n  get id() {\n    return this._collectionPath.id;\n  }\n\n  get parent() {\n    const parent = this._collectionPath.parent();\n    if (!parent) {\n      return null;\n    }\n    return new FirestoreDocumentReference(this._firestore, parent);\n  }\n\n  get path() {\n    return this._collectionPath.relativeName;\n  }\n\n  add(data) {\n    if (!isObject(data)) {\n      throw new Error(\"firebase.firestore().collection().add(*) 'data' must be an object.\");\n    }\n\n    const documentRef = this.doc();\n    return documentRef.set(data).then(() => Promise.resolve(documentRef));\n  }\n\n  doc(documentPath) {\n    const newPath = documentPath || generateFirestoreId();\n    const path = this._collectionPath.child(newPath);\n\n    if (!path.isDocument) {\n      throw new Error(\n        \"firebase.firestore().collection().doc(*) 'documentPath' must point to a document.\",\n      );\n    }\n\n    return new FirestoreDocumentReference(this._firestore, path);\n  }\n}\n\n// To avoid React Native require cycle warnings\nprovideCollectionReferenceClass(FirestoreCollectionReference);\n"],"mappings":"qgCAiBA,OAASA,mBAAmB,CAAEC,QAAQ,KAAQ,uCAAuC,CACrF,MAAOC,2BAA0B,EAC/BC,+BAA+B,oCAEjC,MAAOC,eAAc,wBACrB,MAAOC,wBAAuB,iCAAkC,GAE3CC,6BAA4B,yIAC/C,sCAAYC,SAAS,CAAEC,cAAc,CAAE,4EAC/BD,SAAS,CAAEC,cAAc,CAAE,GAAIH,wBAAuB,EAAE,EAChE,CAAC,yDAED,cAAS,CACP,MAAO,KAAI,CAACI,eAAe,CAACC,EAAE,CAChC,CAAC,oBAED,cAAa,CACX,GAAMC,OAAM,CAAG,IAAI,CAACF,eAAe,CAACE,MAAM,EAAE,CAC5C,GAAI,CAACA,MAAM,CAAE,CACX,MAAO,KAAI,CACb,CACA,MAAO,IAAIT,2BAA0B,CAAC,IAAI,CAACU,UAAU,CAAED,MAAM,CAAC,CAChE,CAAC,kBAED,cAAW,CACT,MAAO,KAAI,CAACF,eAAe,CAACI,YAAY,CAC1C,CAAC,mBAED,aAAIC,IAAI,CAAE,CACR,GAAI,CAACb,QAAQ,CAACa,IAAI,CAAC,CAAE,CACnB,KAAM,IAAIC,MAAK,CAAC,oEAAoE,CAAC,CACvF,CAEA,GAAMC,YAAW,CAAG,IAAI,CAACC,GAAG,EAAE,CAC9B,MAAOD,YAAW,CAACE,GAAG,CAACJ,IAAI,CAAC,CAACK,IAAI,CAAC,iBAAMC,QAAO,CAACC,OAAO,CAACL,WAAW,CAAC,GAAC,CACvE,CAAC,mBAED,aAAIM,YAAY,CAAE,CAChB,GAAMC,QAAO,CAAGD,YAAY,EAAItB,mBAAmB,EAAE,CACrD,GAAMwB,KAAI,CAAG,IAAI,CAACf,eAAe,CAACgB,KAAK,CAACF,OAAO,CAAC,CAEhD,GAAI,CAACC,IAAI,CAACE,UAAU,CAAE,CACpB,KAAM,IAAIX,MAAK,CACb,mFAAmF,CACpF,CACH,CAEA,MAAO,IAAIb,2BAA0B,CAAC,IAAI,CAACU,UAAU,CAAEY,IAAI,CAAC,CAC9D,CAAC,0CAzCuDpB,cAAc,SAAnDE,4BAA4B,aA6CjDH,+BAA+B,CAACG,4BAA4B,CAAC"},"metadata":{},"sourceType":"module"}