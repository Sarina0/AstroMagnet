{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"count\",\"hidesWhenStopped\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import PropTypes from'prop-types';import React,{PureComponent}from'react';import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import{jsx as _jsx}from\"react/jsx-runtime\";var Indicator=function(_PureComponent){_inherits(Indicator,_PureComponent);var _super=_createSuper(Indicator);function Indicator(props){var _this;_classCallCheck(this,Indicator);_this=_super.call(this,props);_this.animationState=0;_this.savedValue=0;var animating=_this.props.animating;_this.state={progress:new Animated.Value(0),hideAnimation:new Animated.Value(animating?1:0)};return _this;}_createClass(Indicator,[{key:\"componentDidMount\",value:function componentDidMount(){var animating=this.props.animating;if(animating){this.startAnimation();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var animating=this.props.animating;if(animating&&!prevProps.animating){this.resumeAnimation();}if(!animating&&prevProps.animating){this.stopAnimation();}if(animating^prevProps.animating){var hideAnimation=this.state.hideAnimation;var duration=this.props.hideAnimationDuration;Animated.timing(hideAnimation,{toValue:animating?1:0,duration:duration}).start();}}},{key:\"startAnimation\",value:function startAnimation(){var progress=this.state.progress;var _this$props=this.props,interaction=_this$props.interaction,animationEasing=_this$props.animationEasing,animationDuration=_this$props.animationDuration;if(0!==this.animationState){return;}var animation=Animated.timing(progress,{duration:animationDuration,easing:animationEasing,useNativeDriver:true,isInteraction:interaction,toValue:1});Animated.loop(animation).start();this.animationState=1;}},{key:\"stopAnimation\",value:function stopAnimation(){var _this2=this;var progress=this.state.progress;if(1!==this.animationState){return;}var listener=progress.addListener(function(_ref){var value=_ref.value;progress.removeListener(listener);progress.stopAnimation(function(){return _this2.saveAnimation(value);});});this.animationState=-1;}},{key:\"saveAnimation\",value:function saveAnimation(value){var animating=this.props.animating;this.savedValue=value;this.animationState=0;if(animating){this.resumeAnimation();}}},{key:\"resumeAnimation\",value:function resumeAnimation(){var _this3=this;var progress=this.state.progress;var _this$props2=this.props,interaction=_this$props2.interaction,animationDuration=_this$props2.animationDuration;if(0!==this.animationState){return;}Animated.timing(progress,{useNativeDriver:true,isInteraction:interaction,duration:(1-this.savedValue)*animationDuration,toValue:1}).start(function(_ref2){var finished=_ref2.finished;if(finished){progress.setValue(0);_this3.animationState=0;_this3.startAnimation();}});this.savedValue=0;this.animationState=1;}},{key:\"renderComponent\",value:function renderComponent(item,index){var progress=this.state.progress;var _this$props3=this.props,renderComponent=_this$props3.renderComponent,count=_this$props3.count;if('function'===typeof renderComponent){return renderComponent({index:index,count:count,progress:progress});}return null;}},{key:\"render\",value:function render(){var hideAnimation=this.state.hideAnimation;var _this$props4=this.props,count=_this$props4.count,hidesWhenStopped=_this$props4.hidesWhenStopped,props=_objectWithoutProperties(_this$props4,_excluded);if(hidesWhenStopped){props.style=[].concat(props.style||[],{opacity:hideAnimation});}return _jsx(Animated.View,_objectSpread(_objectSpread({},props),{},{children:Array.from(new Array(count),this.renderComponent,this)}));}}]);return Indicator;}(PureComponent);Indicator.defaultProps={animationEasing:Easing.linear,animationDuration:1200,hideAnimationDuration:200,animating:true,interaction:true,hidesWhenStopped:true,count:1};Indicator.propTypes={animationEasing:PropTypes.func,animationDuration:PropTypes.number,hideAnimationDuration:PropTypes.number,animating:PropTypes.bool,interaction:PropTypes.bool,hidesWhenStopped:PropTypes.bool,renderComponent:PropTypes.func,count:PropTypes.number};export{Indicator as default};","map":{"version":3,"names":["PropTypes","React","PureComponent","Indicator","props","animationState","savedValue","animating","state","progress","Animated","Value","hideAnimation","startAnimation","prevProps","resumeAnimation","stopAnimation","duration","hideAnimationDuration","timing","toValue","start","interaction","animationEasing","animationDuration","animation","easing","useNativeDriver","isInteraction","loop","listener","addListener","value","removeListener","saveAnimation","finished","setValue","item","index","renderComponent","count","hidesWhenStopped","style","concat","opacity","Array","from","defaultProps","Easing","linear","propTypes","func","number","bool"],"sources":["/Users/sonminhnguyen/Documents/programming/react-native/school/astro_magnet_initial/astro_magnet/node_modules/react-native-indicators/src/components/indicator/index.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Animated, Easing } from 'react-native';\n\nexport default class Indicator extends PureComponent {\n  static defaultProps = {\n    animationEasing: Easing.linear,\n    animationDuration: 1200,\n    hideAnimationDuration: 200,\n\n    animating: true,\n    interaction: true,\n    hidesWhenStopped: true,\n\n    count: 1,\n  };\n\n  static propTypes = {\n    animationEasing: PropTypes.func,\n    animationDuration: PropTypes.number,\n    hideAnimationDuration: PropTypes.number,\n\n    animating: PropTypes.bool,\n    interaction: PropTypes.bool,\n    hidesWhenStopped: PropTypes.bool,\n\n    renderComponent: PropTypes.func,\n    count: PropTypes.number,\n  };\n\n  constructor(props) {\n    super(props);\n\n    /*\n     *  0 -> 1\n     *    | startAnimation\n     *    | resumeAnimation\n     *\n     *  1 -> -1\n     *    | stopAnimation\n     *\n     * -1 -> 0\n     *    | saveAnimation\n     */\n    this.animationState = 0;\n    this.savedValue = 0;\n\n    let { animating } = this.props;\n\n    this.state = {\n      progress: new Animated.Value(0),\n      hideAnimation: new Animated.Value(animating? 1 : 0),\n    };\n  }\n\n  componentDidMount() {\n    let { animating } = this.props;\n\n    if (animating) {\n      this.startAnimation();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    let { animating } = this.props;\n\n    if (animating && !prevProps.animating) {\n      this.resumeAnimation();\n    }\n\n    if (!animating && prevProps.animating) {\n      this.stopAnimation();\n    }\n\n    if (animating ^ prevProps.animating) {\n      let { hideAnimation } = this.state;\n      let { hideAnimationDuration: duration } = this.props;\n\n      Animated\n        .timing(hideAnimation, { toValue: animating? 1 : 0, duration })\n        .start();\n    }\n  }\n\n  startAnimation() {\n    let { progress } = this.state;\n    let { interaction, animationEasing, animationDuration } = this.props;\n\n    if (0 !== this.animationState) {\n      return;\n    }\n\n    let animation = Animated\n      .timing(progress, {\n        duration: animationDuration,\n        easing: animationEasing,\n        useNativeDriver: true,\n        isInteraction: interaction,\n        toValue: 1,\n      });\n\n    Animated\n      .loop(animation)\n      .start();\n\n    this.animationState = 1;\n  }\n\n  stopAnimation() {\n    let { progress } = this.state;\n\n    if (1 !== this.animationState) {\n      return;\n    }\n\n    let listener = progress\n      .addListener(({ value }) => {\n        progress.removeListener(listener);\n        progress.stopAnimation(() => this.saveAnimation(value));\n      });\n\n    this.animationState = -1;\n  }\n\n  saveAnimation(value) {\n    let { animating } = this.props;\n\n    this.savedValue = value;\n    this.animationState = 0;\n\n    if (animating) {\n      this.resumeAnimation();\n    }\n  }\n\n  resumeAnimation() {\n    let { progress } = this.state;\n    let { interaction, animationDuration } = this.props;\n\n    if (0 !== this.animationState) {\n      return;\n    }\n\n    Animated\n      .timing(progress, {\n        useNativeDriver: true,\n        isInteraction: interaction,\n        duration: (1 - this.savedValue) * animationDuration,\n        toValue: 1,\n      })\n      .start(({ finished }) => {\n        if (finished) {\n          progress.setValue(0);\n\n          this.animationState = 0;\n          this.startAnimation();\n        }\n      });\n\n    this.savedValue = 0;\n    this.animationState = 1;\n  }\n\n  renderComponent(item, index) {\n    let { progress } = this.state;\n    let { renderComponent, count } = this.props;\n\n    if ('function' === typeof renderComponent) {\n      return renderComponent({ index, count, progress });\n    }\n\n    return null;\n  }\n\n  render() {\n    let { hideAnimation } = this.state;\n    let { count, hidesWhenStopped, ...props } = this.props;\n\n    if (hidesWhenStopped) {\n      props.style = []\n        .concat(props.style || [], { opacity: hideAnimation });\n    }\n\n    return (\n      <Animated.View {...props}>\n        {Array.from(new Array(count), this.renderComponent, this)}\n      </Animated.View>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}