{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NativeWindStyleSheet as _NativeWindStyleSheet}from\"nativewind\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import FastImage from\"react-native-fast-image\";import{useState}from\"react\";import{Box,Skeleton}from\"native-base\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Image(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];function onError(){props.onLoadError&&props.onLoadError(\"Error loading image, retrying...\");}return _jsxs(Box,{bg:\"tertiary\",width:\"100%\",height:\"100%\",position:\"relative\",style:props.style,overflow:\"hidden\",children:[loading&&_jsx(Skeleton,{startColor:\"tertiary\",endColor:\"secondary\",height:\"100%\",width:\"100%\",position:\"absolute\",zIndex:100}),_jsx(FastImage,_objectSpread({style:props.style,source:{uri:props.src},onError:onError,onLoadStart:function onLoadStart(){return setLoading(true);},onLoad:function onLoad(){return setLoading(false);}},props))]});}_NativeWindStyleSheet.create({styles:{\"absolute\":{\"position\":\"absolute\"},\"relative\":{\"position\":\"relative\"},\"hidden\":{\"display\":\"none\"}}});","map":{"version":3,"names":["FastImage","useState","Box","Skeleton","Image","props","loading","setLoading","onError","onLoadError","style","uri","src"],"sources":["/Users/sonminhnguyen/Documents/programming/react-native/school/astro_magnet_initial/astro_magnet/src/frontend/components/global/image.tsx"],"sourcesContent":["import FastImage from \"react-native-fast-image\";\nimport type { FastImageProps } from \"react-native-fast-image\";\nimport {useState} from \"react\";\nimport {Box, Skeleton} from \"native-base\";\n\ninterface Props extends FastImageProps {\n    src?: string;\n    onLoadError?: (error: string) => void;\n}\n\n/**\n * image component that support loading and error handling, using FastImage as base\n * @prop {string} image source\n * @prop {(error: string)} callback function when image failed to load\n * @prop {FastImageProps} - component also supports all FastImage props to override default config\n * @return {JSX.Element} image component\n */\nexport default function Image(props: Props) {\n    const [loading, setLoading] = useState<boolean>(true);\n\n    function onError() {\n        props.onLoadError && props.onLoadError(\"Error loading image, retrying...\")\n    }\n\n    return (\n        <Box\n            bg=\"tertiary\"\n            width=\"100%\"\n            height=\"100%\"\n            position=\"relative\"\n            style={props.style}\n            overflow=\"hidden\"\n        >\n            {\n                loading &&\n                <Skeleton\n                    startColor=\"tertiary\"\n                    endColor=\"secondary\"\n                    height=\"100%\"\n                    width=\"100%\"\n                    position=\"absolute\"\n                    zIndex={100}\n                />\n            }\n            <FastImage\n                style={props.style}\n                source={{uri: props.src}}\n                onError={onError}\n                onLoadStart={() => setLoading(true)}\n                onLoad={() => setLoading(false)}\n                {...props}\n            />\n        </Box>\n    )\n}\n\n"],"mappings":"+8BAAA,MAAOA,UAAS,KAAM,yBAAyB,CAE/C,OAAQC,QAAQ,KAAO,OAAO,CAC9B,OAAQC,GAAG,CAAEC,QAAQ,KAAO,aAAa,CAAC,wFAc1C,cAAe,SAASC,MAAK,CAACC,KAAY,CAAE,CACxC,cAA8BJ,QAAQ,CAAU,IAAI,CAAC,wCAA9CK,OAAO,eAAEC,UAAU,eAE1B,QAASC,QAAO,EAAG,CACfH,KAAK,CAACI,WAAW,EAAIJ,KAAK,CAACI,WAAW,CAAC,kCAAkC,CAAC,CAC9E,CAEA,MACI,OAAC,GAAG,EACA,EAAE,CAAC,UAAU,CACb,KAAK,CAAC,MAAM,CACZ,MAAM,CAAC,MAAM,CACb,QAAQ,CAAC,UAAU,CACnB,KAAK,CAAEJ,KAAK,CAACK,KAAM,CACnB,QAAQ,CAAC,QAAQ,WAGbJ,OAAO,EACP,KAAC,QAAQ,EACL,UAAU,CAAC,UAAU,CACrB,QAAQ,CAAC,WAAW,CACpB,MAAM,CAAC,MAAM,CACb,KAAK,CAAC,MAAM,CACZ,QAAQ,CAAC,UAAU,CACnB,MAAM,CAAE,GAAI,EACd,CAEN,KAAC,SAAS,gBACN,KAAK,CAAED,KAAK,CAACK,KAAM,CACnB,MAAM,CAAE,CAACC,GAAG,CAAEN,KAAK,CAACO,GAAG,CAAE,CACzB,OAAO,CAAEJ,OAAQ,CACjB,WAAW,CAAE,6BAAMD,WAAU,CAAC,IAAI,CAAC,EAAC,CACpC,MAAM,CAAE,wBAAMA,WAAU,CAAC,KAAK,CAAC,EAAC,EAC5BF,KAAK,EACX,GACA,CAEd,CAAC"},"metadata":{},"sourceType":"module"}